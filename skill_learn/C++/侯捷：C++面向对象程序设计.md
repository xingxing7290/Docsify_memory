1\. C++编程简介

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211128161604012-1108567890.png)

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211128161652944-95343158.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211121234759414-182812718.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211121234852800-1105342762.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211121235208214-1414946215.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211121235503181-744928862.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211121235901733-1321843147.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122000201547-656210800.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122000333698-750746825.png)

 2.头文件与类的声明

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122000516473-874615184.png)

c语言的数据暴漏的太多，任何函数都能访问，不容易维护

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122213647209-688909917.png)

类分两种，内部带指针的和不带指针的

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122214103988-1704302861.png)

 类里有指针要非常小心

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122214329688-1347740063.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122214359717-1065969829.png)

 .h和.cpp是一部分，因为角色的区分，分成两部分

自己的头文件用双引号，库的用尖括号

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122214846026-1860981837.png)

 可以把.h拿掉，c的stdio要写成cstdio

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122215649123-1285176499.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122220110215-2040049711.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122220322449-652125115.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122220541008-828228199.png)

3\. 构造函数

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122222841950-2146764908.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122223640864-1422322208.png)

 private：主要作用是要封装起来内部细节

访问级别可以任意交错

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122230114204-132637141.png)

 创建对象的时候构造函数自动被调用。不需要返回值，因为不需要自己创建本对象。初始化列表构造函数独有。数值设定分两阶段，用初始化和赋值，先初始化再复制。初始化列表属于初始化，构造函数体是赋值

初始化列表的使用显得大气上档次

不带指针的类，多半不用写析构函数

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211122230715260-856754604.png) 

 重载是给函数改名

构造函数一个是有默认参数，一个是没有参数，这样不行，两者冲突，因为编译器不知道选哪个函数，结果不唯一

c1和c2()这两种方式创建对象都可以

 4.参数传递与返回值

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211123232316120-577952771.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211123232340280-1347116099.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211123232957008-821748414.png)

 函数在参数和body之间加const，代表函数不会改变对象内容

const对象调用非const方法会报错

不改值的函数用const修饰是个好习惯

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211123234140211-1395688885.png)

 尽量不要pass by value，复制浪费时间、空间。引用像指针但是更漂亮，使用更自然。引用、指针一般更快、更省空间，但和小字节数据比还是差

按值传递是复制参数，改了参数也不会改原值，引用为了达到这种效果，要用const在变量类型前修饰，这样确保不会改变实参

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211123235647462-442996897.png)

 返回引用效率更高，返回值尽量是reference，有的情况不能返回ref

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124000054448-1274458901.png)

 友元比用函数拿效率高点，但是打破了封装

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124000713182-291812036.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124001317359-31289487.png)

正规写法：

1.数据放private

2.参数尽可能以reference来传，根据要不要改实参决定要不要带const

3.返回值尽量以reference来传

4.在类本体里定义的函数，不改值的加const

5.构造函数用初始化列表初始化

返回reference：返回的是一个本来就有的东西，不会有错。local对象就不能做为reference返回

reference主要用在传递东西上

5\. 操作符重载与临时对象

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124225349658-1133503798.png)

 编译器自动把c2地址传进来当成this，this是函数的隐藏参数

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124232656545-1477916706.png)

返回的是引用，接收端怎么接收不用在乎，用引用和value接收都可以，方便书写，只是效率有差别。传回指针就不行了，必须用指针接收，无法连着用。如果不加引用返回一个已存在对象，相应的会生成一个临时对象，构造、拷贝、析构分别来一次（造一个对象，要不用来常量引用要不用来拷贝，对左值修改影响不了原值，引用直接编译报错;NRVO可以优化不生成对象，直接走拷贝，效率一致，但NRVO可能失效），引用则是指针赋值或者拷贝一次。返回临时对象少复制一次只有一次构造，有编译器优化（RVO）

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124233039140-1512074177.png)

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124233454765-371596474.png)

 重载只有一个能符合，多了编译器报错

多个参数，顺序不定，用全局的容易掌控

参数没有this pointer

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124234118139-1919150823.png)

临时对象，没有名字，声明在下一行已经结束了 

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124235212350-436771928.png)

运算符 全局重载，靠参数个数确定函数名.只有一个参数放对象左边的，可以设计为全局函数也可以设计为类函数，运算符重载函数的结合性和默认的是一样的

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211124235839771-1455170207.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125000201927-265350840.png)

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125002638005-1618989240.png)

有些类不能修改，要用全局运算符重载其运算符

不是自己写的，参数别加const

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125002803064-1287733580.png)

6.复习Complex类的实现过程

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125125616052-312343533.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125125706550-1417519929.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125125738976-2032617269.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125125924607-939584594.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125130136392-1224760108.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125130229271-838907604.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125130531439-1497306928.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125130704986-1381381864.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125130807939-272312320.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125130843149-669847356.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125131100211-1906301269.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125131247124-1388821353.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125131401600-406322259.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125131437419-1490752832.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125131558432-1976338632.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125131651589-1832409386.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125131947870-1643777415.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125132024816-1359464653.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125132405113-1357487330.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125132751891-1812852262.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125133054280-719966098.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125133405284-654417805.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125133558013-704131263.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125133756992-703601512.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125134004575-1026094788.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125134101384-258311055.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125134156910-557622037.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125140155276-681665376.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125140813940-1834039264.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125141111020-1829134042.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125141439752-737785626.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125141712805-1280887259.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125141951514-1779612885.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125142151255-829339021.png)

7\. 三大函数：拷贝构造，拷贝复制，析构

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125231701782-862543333.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125231923150-658748504.png)

 拷贝构造与拷贝赋值区别：一个是构造初始化一个是赋值，拷贝构造的对象之前不存在，所以与赋值构造处理不同，不用清理以前的垃圾

默认的是按bit复制，没有指针、引用就够用

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125232820246-171719979.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125233339775-368669248.png)

 s1()也会调用构造函数

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125234517899-1639441277.png)

 浅拷贝，内存泄漏和数据别名

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125234958539-2030099670.png)

拷贝构造函数只是复制，不想改变外面对象，所以要const参数

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211125235707554-823370722.png)

 判断是否是自己，清空已有数据，拷贝新数据。给已有对象重新赋值

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126000426919-811775933.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126000454649-1367181351.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126000516203-1701229107.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126000549732-1769679488.png)

 没有自我赋值检测，一是慢，二是产生悬垂指针

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126124824189-1116472663.png) 

8，堆、栈与内存管理

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126125248995-1084813092.png)

 对象的内存，要不位于栈区要不位于堆区

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126125822420-1753439007.png)

 析构函数自动被调用

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126125913638-1772171758.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126130045795-1897182262.png)

global对象构造函数早在main执行前就被调用

类中的静态变量与全局变量相同。它的构造函数将在进入 main 函数之前被调用。

-   结论(适用于 g++、Windows 环境):
-   **全局变量** 和 **类中的静态成员** : 在输入之前调用构造函数 **主** 功能 **(1)** .
-   **局部静态变量** : 构造函数仅在第一次执行到达其声明时调用。
-   如 **局部静态变量为 POD 类型** , 那么在输入 **之前也是初始化的主** 功能 **(1)** .  
    POD 类型示例:static int number = 10;

**(1)** :正确的状态应该是:“在调用来自同一翻译单元的任何函数之前”。但是，为了简单，如下例所示，它是主要功能。

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126130158602-1577915453.png)

 内存泄漏：没机会再delete堆上对象了，失去了控制

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126131209783-535811147.png)

"operator new"，函数名就叫这个

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126131912335-1661914575.png)

 删除两块堆上的内存

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126132326025-1675900512.png)

 上下红色cookie用于记录整块大小，方便回收

最后一位，0x41， 1用来表示已分配不可用，0用来表示可用未分配。最后一位可以借位是因为地址一定是16的倍数，所以最后一位必为零

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126183853017-1039369673.png)

 数组个数排在数据前面

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126184811004-902615697.png)

这里指针对象、数组指针还是指向对象内存地址的，而不是cookie等附加数据，相应的delete函数会自己去找

 写不写中括号不影响内存删除，但是影响析构函数调用，内存泄漏的是数据里的指针指向的堆内存。如果是复数类而不是字符串，加不加中括号都行

9\. 复习String类的实现过程

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126204904964-1532726575.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126205055769-446040847.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126205222053-1644759340.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126205510694-440256704.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126205626883-428595319.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126205652351-1633033071.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126205932088-62682095.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126210039098-1095291739.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126210913117-1531252872.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126211200561-467342364.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126211226083-1879226094.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126211251423-147463306.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126211455219-1733939047.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126211810692-1623420153.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126211905130-1915986213.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126211956133-1535022811.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212023006-43885871.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212153488-1580293817.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212224716-1400861457.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212249756-125358661.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212324278-649670613.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212555492-1393745578.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212716525-1828145716.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212743988-1865577885.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212802541-1863312710.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212822176-1363955968.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126212938269-1009412741.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126213007410-550358949.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126213052155-634801292.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126213117219-1878181418.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126213529403-1922212371.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211126214102276-332615714.png)

10.  扩展补充：类模板，函数模板，及其他

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127114823915-33007505.png)

 静态成员数据是类只有一份，静态函数只能操作静态对象成员

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127115613275-1017201665.png)

静态成员数据要在类外面初始化，不然编不过。

这也叫静态成员的定义，定义会开内存空间。类里面的是声明而已，因为静态成员脱离于对象，是属于类的

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127120325383-418390401.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127120349379-1780714509.png)

 懒汉与饿汉模式区别

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127121336050-1161980925.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127121632266-611315005.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127122205881-1177988993.png)

 template里typename和class相通

类模板明确指出type，函数模板是根据参数自行推导

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127124216234-1462529564.png)

 namespace解决同名问题

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127124340711-1383317245.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127124629340-1913527718.png)

11\. 组合与继承

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127124730173-1940291594.png)

 面向对象编程：类和类之间产生关系

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127172951798-1401694427.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127173107104-396799146.png)

 黑色菱形代表里面有东西

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127174440751-598447381.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127174704630-1739091097.png)

 编译器帮助调用部件的构造、析构。

各自管各自的构造和析构即可，编译器全做好了

如果调用默认的构造、析构不合适，就自己在初始化列表上调用组件的构造函数

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127175730459-458715061.png)

 白色菱形是委托，用指针指向，有些虚

 二者寿命不一致

pImpl模式：左边是接口，真正的实现在委托那里，方便实现变动、切换，这样就具有了弹性

这种手法也叫做编译防火墙

还有就是cow技术，改的时候才真正开辟新内存进行拷贝，不然就是复制一个指针

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127183826129-1613235642.png)

 白色三角形代表继承

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127182735287-843820100.png)

 基类析构不是virtual，可能发生只调用基类析构不调用子类析构

12\. 虚函数与多态

继承主要作用是要搭配虚函数，内存布局倒是其次

 函数的继承不应该从内存的角度理解，函数的继承继承的是调用权

 子类可以调用父类的函数

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127185341175-833177093.png)

形状很抽象，没什么东西就直接是形状，所以要定义有纯虚函数

虚函数：希望子类来做，父类不做或者做的默认实现比较简单

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127185421322-1357310758.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127190659624-1108241070.png)

 关键动作延缓到子类去做，叫做template method

 本质是虚函数通过vptr来调用，看是this指针是哪个对象就调到哪个函数

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127212919803-1671072159.png)

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127213015957-496139858.png)

 既有基类又有Component，先调用基类构造函数

13\. 委托相关设计

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127214501849-818614423.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127215212958-1053244078.png)

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127224816201-1789279872.png)

组合模式：容器可以容纳单体及容器

C++容器里要放指针，因为必须一样大小，放对象可能基类、子类不一样大

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127225117627-1811983028.png)

 原型模式：应对未来之对象，要求其继承已有对象，用静态对象创建自己，构造函数里将其add进框架，框架提供虚函数，子类实现copy子类自己创造的东西

LSAT：带下划线，是静态的，所以类自己创造了自己

类图先写名字再写类型

\-代表private，#代表protected

通过存储的指针调用相应类的clone方法，clone里调用protected构造函数防止调用私有的构造函数又注册一次

框架应有之意：实现框架预置的方法，框架先写好了又要让他知道自己

![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127230919799-2036136741.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127232042766-824463550.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127234446685-99647262.png)

 ![](%E4%BE%AF%E6%8D%B7C++%E5%85%AB%E9%83%A8%E6%9B%B2%EF%BC%9AC++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%20-%20cascle%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD/343526-20211127234753768-2050203628.png)